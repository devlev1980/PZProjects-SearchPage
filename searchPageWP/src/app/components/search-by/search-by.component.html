<div class="search__container">
      <form [formGroup]="searchForm">
        <div class="form-group">
          <div class="form-item by__employee" #autocompleteEmployeeRef>
            <img src="https://sytedev01.mobileye.com/sites/apps/SiteAssets/icons/sarch.png?csf=1&e=gcshpb" alt="search" class="byEmployee">
<!--            <input type="text" class="byEmployee" (input)="onSearchByEmployee()" formControlName="byEmployee" placeholder="Type employee's name">-->
            <input type="text" class="byEmployee" (input)="onSearchByEmployee()" placeholder="Type employee's name" formControlName="byEmployee">
            <button class="btn__sort" type="button" #sortBtn (click)="onSort()">
              <img src="https://sytedev01.mobileye.com/sites/apps/SiteAssets/icons/sorting%20a-z.png?csf=1&e=gNo5Bh" alt="sort">
            </button>
<!--            ================================= Autocomplete -->

              <cdk-virtual-scroll-viewport class="users" [itemSize]="1" *ngIf="showAutocompleteByEmployee">
                <ul>
                  <li *cdkVirtualFor="let profile of profiles | searchByEmployee: selectedUser " class="example-item" (click)="onSelectUser(profile)">
                    <div class="user_info__wrapper">
                      <div class="img__wrapper">
                        <img [src]="profile.PictureUrl" alt="profile picture" *ngIf="profile.PictureUrl;else noPicture">
                        <ng-template #noPicture>
                          <div class="user__info-initials">
                            <span *ngIf="profile.FirstName !== ''">{{profile.FirstName.substring(0, 1)}}</span>
                            <span *ngIf="profile.LastName">.{{profile.LastName.substring(0, 1)}}</span>
                          </div>
                        </ng-template>
                      </div>
                      <div class="user__info">
                        <span class="user__info-name"  [innerHTML]="profile?.FirstName | highlight: selectedUser"></span>
                        <span class="user__info-lastname" [innerHTML]="profile?.LastName | highlight: selectedUser"></span>
                        <div  *ngIf="profile?.WorkPhone">
                          <label for="work_phone">Office Ext: </label>
                          <a class="user__info-email" id="work_phone" href="tel:{{profile?.WorkPhone}}"
                             [innerHTML]="profile?.WorkPhone"></a>
                        </div>
                        <div  *ngIf="profile?.MobilePhone">
                          <label for="cell_phone">Cell: </label>
                          <a class="user__info-email" id="cell_phone" href="tel:{{profile?.MobilePhone}}"
                             [innerHTML]="profile?.MobilePhone"></a>
                        </div>
                      </div>
                    </div>
                  </li>
                </ul>
                <div class="footer">Search Directory for {{selectedUser}}</div>
              </cdk-virtual-scroll-viewport>


          </div>
          <div class="form-item by__department" #autocompleteDepartmentsRef>
            <input type="text"  class="byDepartment"   (click)="onSearchByDepartment($event)" formControlName="byDepartment" placeholder="Department">
            <img  src="https://sytedev01.mobileye.com/sites/apps/SiteAssets/icons/departments.png?csf=1&e=X9mzPJ" alt="by department">


<!-- ================       Autocomplete     =============================-->
            <div class="autocomplete__departments" *ngIf="showAutocompleteByDepartment"  >
              <ul>
                <li *ngFor="let department of departments" (click)="onSelectDepartment(department)">
                  <span>{{department}}</span>
                </li>
              </ul>
            </div>
          </div>
          <!-- ===========================================================-->
          <div class="form-item by__location" #autocompleteLocationsRef>
            <input type="text"  class="byLocation" (click)="showAutocompleteByLocation = true" (input)="onSearchByLocation($event)" formControlName="byLocation" placeholder="Location">
            <img class="byLocation" src="https://sytedev01.mobileye.com/sites/apps/SiteAssets/icons/location_normal.png?csf=1&e=3i9pEC" alt="by location">

            <div class="autocomplete__locations" *ngIf="showAutocompleteByLocation" #autocompleteLocations>
              <ul>
                <li *ngFor="let location of locations" (click)="onSelectLocation(location)">
                  <span>{{location}}</span>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </form>
</div>

